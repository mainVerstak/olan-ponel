fotoramaVersion="4.6.4",function(r,Me,Se,Fe,h){"use strict";function t(r){var t="bez_"+Fe.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof Fe.easing[t]){var a=function(n,o){var i=[null,null],r=[null,null],a=[null,null],s=function(t,e){return a[e]=3*n[e],r[e]=3*(o[e]-n[e])-a[e],i[e]=1-a[e]-r[e],t*(a[e]+t*(r[e]+t*i[e]))},u=function(t){return a[0]+t*(2*r[0]+3*i[0]*t)},e=function(t){for(var e,n=t,o=0;++o<14&&(e=s(n,0)-t,!(Math.abs(e)<.001));)n-=e/u(n);return n};return function(t){return s(e(t),1)}};Fe.easing[t]=function(t,e,n,o,i){return o*a([r[0],r[1]],[r[2],r[3]])(e/i)+n}}return t}function A(){}function Ee(t,e,n){return Math.max(isNaN(e)?-Infinity:e,Math.min(isNaN(n)?Infinity:n,t))}function e(t){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]}function i(t){return jo?+e(t.css("transform")):+t.css("left").replace("px","")}function Pe(t){var e={};return jo?e.transform="translate3d("+t+"px,0,0)":e.left=t,e}function je(t){return{"transition-duration":t+"ms"}}function n(t,e){return isNaN(t)?e:t}function Ne(t,e){return n(+String(t).replace(e||"px",""))}function o(t){return/%$/.test(t)?Ne(t,"%"):h}function $e(t,e){return n(o(t)/100*e,Ne(t))}function qe(t){return(!isNaN(Ne(t))||!isNaN(Ne(t,"%")))&&t}function Ae(t,e,n,o){return(t-(o||0))*(e+(n||0))}function ze(t,e,n,o){return-Math.round(t/(e+(n||0))-(o||0))}function a(t){var e=t.data();e.tEnd||(on(t[0],{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[T.prefixed("transition")],function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()}),e.tEnd=!0)}function s(t,e,n,o){var i,r=t.data();r&&(r.onEndFn=function(){i||(i=!0,clearTimeout(r.tT),n())},r.tProp=e,clearTimeout(r.tT),r.tT=setTimeout(function(){r.onEndFn()},1.5*o),a(t))}function Ie(t,e){if(t.length){var n=t.data();jo?(t.css(je(0)),n.onEndFn=A,clearTimeout(n.tT)):t.stop();var o=Le(e,function(){return i(t)});return t.css(Pe(o)),o}}function Le(){for(var t,e=0,n=arguments.length;e<n&&"number"!=typeof(t=e?arguments[e]():arguments[e]);e++);return t}function u(t,e){return Math.round(t+(e-t)/1.5)}function c(){return c.p=c.p||("https:"===Se.protocol?"https://":"http://"),c.p}function l(t){var e=Me.createElement("a");return e.href=t,e}function Oe(t,e){if("string"!=typeof t)return t;var n,o;if((t=l(t)).host.match(/youtube\.com/)&&t.search){if(n=t.search.split("v=")[1]){var i=n.indexOf("&");-1!==i&&(n=n.substring(0,i)),o="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(n=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),o="youtube"):t.host.match(/vimeo\.com/)&&(o="vimeo",n=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&o||!e||(n=t.href,o="custom"),!!n&&{id:n,type:o,s:t.search.replace(/^\?/,""),p:c()}}function De(e,n,o){var t,i,r=e.video;return"youtube"===r.type?(t=(i=c()+"img.youtube.com/vi/"+r.id+"/default.jpg").replace(/\/default.jpg$/,"/hqdefault.jpg"),e.thumbsReady=!0):"vimeo"===r.type?Fe.ajax({url:c()+"vimeo.com/api/v2/video/"+r.id+".json",dataType:"jsonp",success:function(t){e.thumbsReady=!0,Re(n,{img:t[0].thumbnail_large,thumb:t[0].thumbnail_small},e.i,o)}}):e.thumbsReady=!0,{img:t,thumb:i}}function Re(t,e,n,o){for(var i=0,r=t.length;i<r;i++){var a=t[i];if(a.i===n&&a.thumbsReady){var s={videoReady:!0};s[Wo]=s[Ko]=s[Ho]=!1,o.splice(i,1,Fe.extend({},a,s,e));break}}}function We(t){function n(t,e,n){var o=t.children("img").eq(0),i=t.attr("href"),r=t.attr("src"),a=o.attr("src"),s=e.video,u=!!n&&Oe(i,!0===s);u?i=!1:u=s,c(t,o,Fe.extend(e,{video:u,img:e.img||i||r||a,thumb:e.thumb||a||r||i}))}function c(t,e,n){var o=n.thumb&&n.img!==n.thumb,i=Ne(n.width||t.attr("width")),r=Ne(n.height||t.attr("height"));Fe.extend(n,{width:i,height:r,thumbratio:nn(n.thumbratio||Ne(n.thumbwidth||e&&e.attr("width")||o||i)/Ne(n.thumbheight||e&&e.attr("height")||o||r))})}var o=[];return t.children().each(function(){var t=Fe(this),e=en(Fe.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))n(t,e,!0);else{if(t.is(":empty"))return;c(t,null,Fe.extend(e,{html:this,_html:t.html()}))}o.push(e)}),o}function f(t){return 0===t.offsetWidth&&0===t.offsetHeight}function He(t){return!Fe.contains(Me.documentElement,t)}function Ke(t,e,n,o){return Ke.i||(Ke.i=1,Ke.ii=[!0]),o=o||Ke.i,"undefined"==typeof Ke.ii[o]&&(Ke.ii[o]=!0),t()?e():Ke.ii[o]&&setTimeout(function(){Ke.ii[o]&&Ke(t,e,n,o)},n||100),Ke.i++}function Ve(t){Se.replace(Se.protocol+"//"+Se.host+Se.pathname.replace(/^\/?/,"/")+Se.search+"#"+t)}function Be(t,e,n,o){var i=t.data(),r=i.measures;if(r&&(!i.l||i.l.W!==r.width||i.l.H!==r.height||i.l.r!==r.ratio||i.l.w!==e.w||i.l.h!==e.h||i.l.m!==n||i.l.p!==o)){var a=r.width,s=r.height,u=e.w/e.h,c=r.ratio>=u,l="scaledown"===n,f="contain"===n,d="cover"===n,h=p(o);c&&(l||f)||!c&&d?s=(a=Ee(e.w,0,l?a:Infinity))/r.ratio:(c&&d||!c&&(l||f))&&(a=(s=Ee(e.h,0,l?s:Infinity))*r.ratio),t.css({width:a,height:s,left:$e(h.x,e.w-a),top:$e(h.y,e.h-s)}),i.l={W:r.width,H:r.height,r:r.ratio,w:e.w,h:e.h,m:n,p:o}}return!0}function Xe(t,e){var n=t[0];n.styleSheet?n.styleSheet.cssText=e:t.html(e)}function Qe(t,e,n){return e!==n&&(t<=e?"left":n<=t?"right":"left right")}function Ue(t,e,n,o){if(!n)return!1;if(!isNaN(t))return t-(o?0:1);for(var i,r=0,a=e.length;r<a;r++){if(e[r].id===t){i=r;break}}return i}function Ye(t,o,i){i=i||{},t.each(function(){var e,t=Fe(this),n=t.data();n.clickOn||(n.clickOn=!0,Fe.extend(m(t,{onStart:function(t){e=t,(i.onStart||A).call(this,t)},onMove:i.onMove||A,onTouchEnd:i.onTouchEnd||A,onEnd:function(t){t.moved||o.call(this,e)}}),{noMove:!0}))})}function Ge(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function Je(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),o=t[e];t[e]=t[n],t[n]=o}return t}function Ze(t){return"[object Array]"==Object.prototype.toString.call(t)&&Fe.map(t,function(t){return Fe.extend({},t)})}function tn(t,e,n){t.scrollLeft(e||0).scrollTop(n||0)}function en(t){if(t){var n={};return Fe.each(t,function(t,e){n[t.toLowerCase()]=e}),n}}function nn(t){if(t){var e=+t;return isNaN(e)?+(e=t.split("/"))[0]/+e[1]||h:e}}function on(t,e,n,o){e&&(t.addEventListener?t.addEventListener(e,n,!!o):t.attachEvent("on"+e,n))}function d(t){return!!t.getAttribute("disabled")}function rn(t){return{tabindex:-1*t+"",disabled:t}}function an(e,n){on(e,"keyup",function(t){d(e)||13==t.keyCode&&n.call(e,t)})}function sn(e,n){on(e,"focus",e.onfocusin=function(t){n.call(e,t)},!0)}function un(t,e){t.preventDefault?t.preventDefault():t.returnValue=!1,e&&t.stopPropagation&&t.stopPropagation()}function cn(t){return t?">":"<"}function p(t){return{x:qe((t=(t+"").split(/\s+/))[0])||R,y:qe(t[1])||R}}function ln(t,e){var n=t.data(),o=Math.round(e.pos),i=function(){n.sliding=!1,(e.onEnd||A)()};"undefined"!=typeof e.overPos&&e.overPos!==e.pos&&(o=e.overPos,i=function(){ln(t,Fe.extend({},e,{overPos:e.pos,time:Math.max(Io,e.time/2)}))});var r=Fe.extend(Pe(o),e.width&&{width:e.width});n.sliding=!0,jo?(t.css(Fe.extend(je(e.time),r)),10<e.time?s(t,"transform",i,e.time):i()):t.stop().animate(r,e.time,D,i)}function fn(t,e,n,o,i,r){var a=void 0!==r;if(a||(i.push(arguments),Array.prototype.push.call(arguments,i.length),!(1<i.length))){t=t||Fe(t),e=e||Fe(e);var s=t[0],u=e[0],c="crossfade"===o.method,l=function(){if(!l.done){l.done=!0;var t=(a||i.shift())&&i.shift();t&&fn.apply(this,t),(o.onEnd||A)(!!t)}},f=o.time/(r||1);n.removeClass(b+" "+y),t.stop().addClass(b),e.stop().addClass(y),c&&u&&t.fadeTo(0,0),t.fadeTo(c?f:0,1,c&&l),e.fadeTo(f,0,l),s&&c||u||l()}}function w(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY,t._now=Fe.now()}function m(t,a){function e(t){if(r=Fe(t.target),g.checked=d=h=m=!1,u||g.flow||t.touches&&1<t.touches.length||1<t.which||F&&F.type!==t.type&&P||(d=a.select&&r.is(a.select,v)))return d;f="touchstart"===t.type,h=r.is("a, a *",v),l=g.control,p=g.noMove||g.noSwipe||l?16:g.snap?0:4,w(t),c=F=t,E=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(a.onStart||A).call(v,t,{control:l,$target:r}),u=g.flow=!0,f&&!g.go||un(t)}function n(t){if(t.touches&&1<t.touches.length||Ao&&!t.isPrimary||E!==t.type||!u)return u&&s(),void(a.onTouchEnd||A)();w(t);var e=Math.abs(t._x-c._x),n=Math.abs(t._y-c._y),o=e-n,i=(g.go||g.x||0<=o)&&!g.noSwipe,r=o<0;f&&!g.checked?(u=i)&&un(t):(un(t),(a.onMove||A).call(v,t,{touch:f})),!m&&Math.sqrt(Math.pow(e,2)+Math.pow(n,2))>p&&(m=!0),g.checked=g.checked||i||r}function s(t){(a.onTouchEnd||A)();var e=u;g.control=u=!1,e&&(g.flow=!1),!e||h&&!g.checked||(t&&un(t),P=!0,clearTimeout(j),j=setTimeout(function(){P=!1},1e3),(a.onEnd||A).call(v,{moved:m,$target:r,control:l,touch:f,startEvent:c,aborted:!t||"MSPointerCancel"===t.type}))}function o(){g.flow||setTimeout(function(){g.flow=!0},10)}function i(){g.flow&&setTimeout(function(){g.flow=!1},zo)}var u,c,r,l,f,d,h,p,m,v=t[0],g={};return Ao?(on(v,"MSPointerDown",e),on(Me,"MSPointerMove",n),on(Me,"MSPointerCancel",s),on(Me,"MSPointerUp",s)):(on(v,"touchstart",e),on(v,"touchmove",n),on(v,"touchend",s),on(Me,"touchstart",o),on(Me,"touchend",i),on(Me,"touchcancel",i),Eo.on("scroll",i),t.on("mousedown",e),Po.on("mousemove",n).on("mouseup",s)),t.on("click","a",function(t){g.checked&&un(t)}),g}function dn(b,x){function _(t,e){N=!0,o=C=t._x,r=t._now,M=[[r,o]],T=k=q.noMove||e?0:Ie(b,(x.getPos||A)()),(x.onStart||A).call($,t)}function t(t,e){F=q.min,E=q.max,P=q.snap,j=t.altKey,N=a=!1,e.control||s.sliding||_(t)}function e(t,e){q.noSwipe||(N||_(t),C=t._x,M.push([t._now,C]),i=Qe(k=T-(o-C),F,E),k<=F?k=u(k,F):E<=k&&(k=u(k,E)),q.noMove||(b.css(Pe(k)),a||(a=!0,e.touch||Ao||b.addClass(z)),(x.onMove||A).call($,t,{pos:k,edge:i})))}function n(t){if(!q.noSwipe||!t.moved){N||_(t.startEvent,!0),t.touch||Ao||b.removeClass(z);for(var e,n,o,i,r,a,s,u,c,l=(S=Fe.now())-zo,f=null,d=Io,h=x.friction,p=M.length-1;0<=p;p--){if(e=M[p][0],n=Math.abs(e-l),null===f||n<o)f=e,i=M[p][1];else if(f===l||o<n)break;o=n}s=Ee(k,F,E);var m=i-C,v=0<=m,g=S-f,w=zo<g,y=!w&&k!==T&&s===k;P&&(s=Ee(Math[y?v?"floor":"ceil":"round"](k/P)*P,F,E),F=E=s),y&&(P||s===k)&&(c=-m/g,d*=Ee(Math.abs(c),x.timeLow,x.timeHigh),r=Math.round(k+c*d/h),P||(s=r),(!v&&E<r||v&&r<F)&&(a=v?F:E,P||(s=a),u=Ee(s+.03*(u=r-a),a-50,a+50),d=Math.abs((k-u)/(c/h)))),d*=j?10:1,(x.onEnd||A).call($,Fe.extend(t,{moved:t.moved||w&&P,pos:k,newPos:s,overPos:u,time:d}))}}var o,C,T,k,i,M,r,S,F,E,P,j,a,N,$=b[0],s=b.data(),q={};return q=Fe.extend(m(x.$wrap,Fe.extend({},x,{onStart:t,onMove:e,onEnd:n})),q)}function hn(t,u){var c,l,f,e=t[0],d={prevent:{}};return on(e,I,function(t){var e=t.wheelDeltaY||-1*t.deltaY||0,n=t.wheelDeltaX||-1*t.deltaX||0,o=Math.abs(n)&&!Math.abs(e),i=cn(n<0),r=l===i,a=Fe.now(),s=a-f<zo;l=i,f=a,o&&d.ok&&(!d.prevent[i]||c)&&(un(t,!0),c&&r&&s||(u.shift&&(c=!0,clearTimeout(d.t),d.t=setTimeout(function(){c=!1},L)),(u.onEnd||A)(t,u.shift?i:n)))}),d}function v(){Fe.each(Fe.Fotorama.instances,function(t,e){e.index=t})}function pn(t){Fe.Fotorama.instances.push(t),v()}function mn(t){Fe.Fotorama.instances.splice(t.index,1),v()}var vn="fotorama",gn="fullscreen",wn=vn+"__wrap",yn=wn+"--css2",bn=wn+"--css3",xn=wn+"--video",_n=wn+"--fade",Cn=wn+"--slide",Tn=wn+"--no-controls",kn=wn+"--no-shadows",Mn=wn+"--pan-y",Sn=wn+"--rtl",Fn=wn+"--only-active",En=wn+"--no-captions",Pn=wn+"--toggle-arrows",jn=vn+"__stage",Nn=jn+"__frame",$n=Nn+"--video",qn=jn+"__shaft",An=vn+"__grab",zn=vn+"__pointer",In=vn+"__arr",Ln=In+"--disabled",On=In+"--prev",Dn=In+"--next",Rn=vn+"__nav",Wn=Rn+"-wrap",Hn=Rn+"__shaft",Kn=Rn+"--dots",Vn=Rn+"--thumbs",Bn=Rn+"__frame",Xn=Bn+"--dot",Qn=Bn+"--thumb",g=vn+"__fade",y=g+"-front",b=g+"-rear",Un=vn+"__shadow"+"s",Yn=Un+"--left",Gn=Un+"--right",Jn=vn+"__active",Zn=vn+"__select",to=vn+"--hidden",eo=vn+"--fullscreen",no=vn+"__fullscreen-icon",oo=vn+"__error",io=vn+"__loading",ro=vn+"__loaded",ao=ro+"--full",so=ro+"--img",z=vn+"__grabbing",uo=vn+"__img",co=uo+"--full",lo=vn+"__dot",fo=vn+"__thumb",ho=fo+"-border",po=vn+"__html",x=vn+"__video",mo=x+"-play",vo=x+"-close",go=vn+"__caption",wo=vn+"__caption__wrap",yo=vn+"__background",bo=vn+"__background__wrap",xo=vn+"__spinner",_o='" tabindex="0" role="button',_=Fe&&Fe.fn.jquery.split(".");if(!_||_[0]<1||1==_[0]&&_[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var C={},T=function(t,f,r){function e(t){v.cssText=t}function a(t,e){return typeof t===e}function i(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var n in t){var o=t[n];if(!i(o,"-")&&v[o]!==r)return"pfx"!=e||o}return!1}function u(t,e,n){for(var o in t){var i=e[t[o]];if(i!==r)return!1===n?t[o]:a(i,"function")?i.bind(n||e):i}return!1}function o(t,e,n){var o=t.charAt(0).toUpperCase()+t.slice(1),i=(t+" "+y.join(o+" ")+o).split(" ");return a(e,"string")||a(e,"undefined")?s(i,e):u(i=(t+" "+b.join(o+" ")+o).split(" "),e,n)}var n,c,l="2.6.2",d={},h=f.documentElement,p="modernizr",m=f.createElement(p),v=m.style,g=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),w="Webkit Moz O ms",y=w.split(" "),b=w.toLowerCase().split(" "),x={},_=[],C=_.slice,T=function(t,e,n,o){var i,r,a,s,u=f.createElement("div"),c=f.body,l=c||f.createElement("body");if(parseInt(n,10))for(;n--;)(a=f.createElement("div")).id=o?o[n]:p+(n+1),u.appendChild(a);return i=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),u.id=p,(c?u:l).innerHTML+=i,l.appendChild(u),c||(l.style.background="",l.style.overflow="hidden",s=h.style.overflow,h.style.overflow="hidden",h.appendChild(l)),r=e(u,t),c?u.parentNode.removeChild(u):(l.parentNode.removeChild(l),h.style.overflow=s),!!r},k={}.hasOwnProperty;for(var M in c=a(k,"undefined")||a(k.call,"undefined")?function(t,e){return e in t&&a(t.constructor.prototype[e],"undefined")}:function(t,e){return k.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function S(o){var i=this;if("function"!=typeof i)throw new TypeError;var r=C.call(arguments,1),a=function(){if(this instanceof a){var t=function(){};t.prototype=i.prototype;var e=new t,n=i.apply(e,r.concat(C.call(arguments)));return Object(n)===n?n:e}return i.apply(o,r.concat(C.call(arguments)))};return a}),x.csstransforms3d=function(){return!!o("perspective")},x)c(x,M)&&(n=M.toLowerCase(),d[n]=x[M](),_.push((d[n]?"":"no-")+n));return d.addTest=function(t,e){if("object"==typeof t)for(var n in t)c(t,n)&&d.addTest(n,t[n]);else{if(t=t.toLowerCase(),d[t]!==r)return d;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(h.className+=" "+(e?"":"no-")+t),d[t]=e}return d},e(""),m=null,d._version=l,d._prefixes=g,d._domPrefixes=b,d._cssomPrefixes=y,d.testProp=function(t){return s([t])},d.testAllProps=o,d.testStyles=T,d.prefixed=function(t,e,n){return e?o(t,e,n):o(t,"pfx")},d}(0,Me),Co={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},k="webkit moz o ms khtml".split(" ");if("undefined"!=typeof Me.cancelFullScreen)Co.ok=!0;else for(var M=0,S=k.length;M<S;M++)if(Co.prefix=k[M],"undefined"!=typeof Me[Co.prefix+"CancelFullScreen"]){Co.ok=!0;break}Co.ok&&(Co.event=Co.prefix+"fullscreenchange",Co.is=function(){switch(this.prefix){case"":return Me.fullScreen;case"webkit":return Me.webkitIsFullScreen;default:return Me[this.prefix+"FullScreen"]}},Co.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},Co.cancel=function(){return""===this.prefix?Me.cancelFullScreen():Me[this.prefix+"CancelFullScreen"]()});var To,ko={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},Mo={top:"auto",left:"auto",className:""};To=function(){function m(t,e){var n,o=Me.createElement(t||"div");for(n in e)o[n]=e[n];return o}function l(t){for(var e=1,n=arguments.length;e<n;e++)t.appendChild(arguments[e]);return t}function a(t,e,n,o){var i=["opacity",e,~~(100*t),n,o].join("-"),r=.01+n/o*100,a=Math.max(1-(1-t)/e*(100-r),t),s=w.substring(0,w.indexOf("Animation")).toLowerCase(),u=s&&"-"+s+"-"||"";return c[i]||(d.insertRule("@"+u+"keyframes "+i+"{0%{opacity:"+a+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+a+"}}",d.cssRules.length),c[i]=1),i}function o(t,e){var n,o,i=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<r.length;o++)if(i[n=r[o]+e]!==h)return n;if(i[e]!==h)return e}function v(t,e){for(var n in e)t.style[o(t,n)||n]=e[n];return t}function e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]===h&&(t[o]=n[o])}return t}function g(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function f(t,e){return"string"==typeof t?t:t[e%t.length]}function n(t){if(void 0===this)return new n(t);this.opts=e(t||{},n.defaults,s)}function t(){function c(t,e){return m("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}d.addRule(".spin-vml","behavior:url(#default#VML)"),n.prototype.lines=function(t,o){function i(){return v(c("group",{coordsize:a+" "+a,coordorigin:-r+" "+-r}),{width:a,height:a})}function e(t,e,n){l(u,l(v(i(),{rotation:360/o.lines*t+"deg",left:~~e}),l(v(c("roundrect",{arcsize:o.corners}),{width:r,height:o.width,left:o.radius,top:-o.width>>1,filter:n}),c("fill",{color:f(o.color,t),opacity:o.opacity}),c("stroke",{opacity:0}))))}var n,r=o.length+o.width,a=2*r,s=2*-(o.width+o.length)+"px",u=v(i(),{position:"absolute",top:s,left:s});if(o.shadow)for(n=1;n<=o.lines;n++)e(n,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(n=1;n<=o.lines;n++)e(n);return l(t,u)},n.prototype.opacity=function(t,e,n,o){var i=t.firstChild;o=o.shadow&&o.lines||0,i&&e+o<i.childNodes.length&&(i=(i=(i=i.childNodes[e+o])&&i.firstChild)&&i.firstChild)&&(i.opacity=n)}}var w,i,r=["webkit","Moz","ms","O"],c={},d=(i=m("style",{type:"text/css"}),l(Me.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet),s={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};n.defaults={},e(n.prototype,{spin:function(t){this.stop();var e,n,o=this,i=o.opts,r=o.el=v(m(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex}),a=i.radius+i.length+i.width;if(t&&(t.insertBefore(r,t.firstChild||null),n=g(t),e=g(r),v(r,{left:("auto"==i.left?n.x-e.x+(t.offsetWidth>>1):parseInt(i.left,10)+a)+"px",top:("auto"==i.top?n.y-e.y+(t.offsetHeight>>1):parseInt(i.top,10)+a)+"px"})),r.setAttribute("role","progressbar"),o.lines(r,o.opts),!w){var s,u=0,c=(i.lines-1)*(1-i.direction)/2,l=i.fps,f=l/i.speed,d=(1-i.opacity)/(f*i.trail/100),h=f/i.lines;!function p(){u++;for(var t=0;t<i.lines;t++)s=Math.max(1-(u+(i.lines-t)*h)%f*d,i.opacity),o.opacity(r,t*i.direction+c,s,i);o.timeout=o.el&&setTimeout(p,~~(1e3/l))}()}return o},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=h),this},lines:function(t,n){function e(t,e){return v(m(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*i+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(var o,i=0,r=(n.lines-1)*(1-n.direction)/2;i<n.lines;i++)o=v(m(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:w&&a(n.opacity,n.trail,r+i*n.direction,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&l(o,v(e("#000","0 0 4px #000"),{top:"2px"})),l(t,l(o,e(f(n.color,i),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var u=v(m("group"),{behavior:"url(#default#VML)"});return!o(u,"transform")&&u.adj?t():w=o(u,"animation"),n}();var So,Fo,F,E,P,j,Eo=Fe(r),Po=Fe(Me),N="quirks"===Se.hash.replace("#",""),$=T.csstransforms3d,jo=$&&!N,No=$||"CSS1Compat"===Me.compatMode,$o=Co.ok,q=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),qo=!jo||q,Ao=navigator.msPointerEnabled,I="onwheel"in Me.createElement("div")?"wheel":Me.onmousewheel!==h?"mousewheel":"DOMMouseScroll",zo=250,Io=300,L=1400,Lo=5e3,O=2,Oo=64,Do=500,Ro=333,Wo="$stageFrame",Ho="$navDotFrame",Ko="$navThumbFrame",Vo="auto",D=t([.1,0,.25,1]),Bo=99999,R="50%",W={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:O,glimpse:0,fit:"contain",position:R,thumbposition:R,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Oo,thumbheight:Oo,thumbmargin:O,thumbborderwidth:O,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:Io,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},Xo={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};Ke.stop=function(t){Ke.ii[t]=!1},jQuery.Fotorama=function(n,C){function t(){Fe.each(at,function(t,e){if(!e.i){e.i=Qt++;var n=Oe(e.video,!0);if(n){var o={};e.video=n,e.img||e.thumb?e.thumbsReady=!0:o=De(e,at,Kt),Re(at,{img:o.img,thumb:o.thumb},e.i,Kt)}}})}function r(t){return $t[t]||Kt.fullScreen}function e(t){var e="keydown."+vn,n=vn+Vt,o="keydown."+n,i="resize."+n+" orientationchange."+n;t?(Po.on(o,function(t){var e,n;lt&&27===t.keyCode?Q(lt,e=!0,!0):(Kt.fullScreen||C.keyboard&&!Kt.index)&&(27===t.keyCode?(e=!0,Kt.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&r("space")||37===t.keyCode&&r("left")||38===t.keyCode&&r("up")?n="<":32===t.keyCode&&r("space")||39===t.keyCode&&r("right")||40===t.keyCode&&r("down")?n=">":36===t.keyCode&&r("home")?n="<<":35===t.keyCode&&r("end")&&(n=">>")),(e||n)&&un(t),n&&Kt.show({index:n,slow:t.altKey,user:!0})}),Kt.index||Po.off(e).on(e,"textarea, input, select",function(t){!Fo.hasClass(gn)&&t.stopPropagation()}),Eo.on(i,Kt.resize)):(Po.off(o),Eo.off(i))}function o(t){t!==o.f&&(t?(n.html("").addClass(vn+" "+Bt).append(Jt).before(Yt).before(Gt),pn(Kt)):(Jt.detach(),Yt.detach(),Gt.detach(),n.html(Ut.urtext).removeClass(Bt),mn(Kt)),e(t),o.f=t)}function i(){at=Kt.data=at||Ze(C.data)||We(n),st=Kt.size=at.length,!rt.ok&&C.shuffle&&Je(at),t(),ve=c(ve),st&&o(!0)}function a(){var t=st<2&&!C.enableifsingleframe||lt;we.noMove=t||Mt,we.noSwipe=t||!C.swipe,!Pt&&te.toggleClass(An,!C.click&&!we.noMove&&!we.noSwipe),Ao&&Jt.toggleClass(Mn,!we.noSwipe)}function s(t){!0===t&&(t=""),C.autoplay=Math.max(+t||Lo,1.5*Et)}function u(){function t(t,e){n[t?"add":"remove"].push(e)}Kt.options=C=en(C),Mt="crossfade"===C.transition||"dissolve"===C.transition,bt=C.loop&&(2<st||Mt&&(!Pt||"slide"!==Pt)),Et=+C.transitionduration||Io,Nt="rtl"===C.direction,$t=Fe.extend({},C.keyboard&&Xo,C.keyboard);var n={add:[],remove:[]};1<st||C.enableifsingleframe?(xt=C.nav,Ct="top"===C.navposition,n.remove.push(Zn),ie.toggle(!!C.arrows)):(xt=!1,ie.hide()),g(),ct=new To(Fe.extend(ko,C.spinner,Mo,{direction:Nt?-1:1})),j(),N(),C.autoplay&&s(C.autoplay),St=Ne(C.thumbwidth)||Oo,Ft=Ne(C.thumbheight)||Oo,ye.ok=xe.ok=C.trackpad&&!qo,a(),D(C,[ge]),(_t="thumbs"===xt)?(b(st,"navThumb"),ut=ce,Ht=Ko,Xe(Yt,Fe.Fotorama.jst.style({w:St,h:Ft,b:C.thumbborderwidth,m:C.thumbmargin,s:Vt,q:!No})),ae.addClass(Vn).removeClass(Kn)):"dots"===xt?(b(st,"navDot"),ut=ue,Ht=Ho,ae.addClass(Kn).removeClass(Vn)):(xt=!1,ae.removeClass(Vn+" "+Kn)),xt&&(Ct?re.insertBefore(Zt):re.insertAfter(Zt),F.nav=!1,F(ut,se,"nav")),(Tt=C.allowfullscreen)?(fe.prependTo(Zt),kt=$o&&"native"===Tt):(fe.detach(),kt=!1),t(Mt,_n),t(!Mt,Cn),t(!C.captions,En),t(Nt,Sn),t("always"!==C.arrows,Pn),t(!(jt=C.shadows&&!qo),kn),Jt.addClass(n.add.join(" ")).removeClass(n.remove.join(" ")),Fe.extend({},C)}function T(t){return t<0?(st+t%st)%st:st<=t?t%st:t}function c(t){return Ee(t,0,st-1)}function l(t){return bt?T(t):c(t)}function f(t){return!!(0<t||bt)&&t-1}function d(t){return!!(t<st-1||bt)&&t+1}function h(){we.min=bt?-Infinity:-Ae(st-1,ge.w,C.margin,ht),we.max=bt?Infinity:-Ae(0,ge.w,C.margin,ht),we.snap=ge.w+C.margin}function p(){be.min=Math.min(0,ge.nw-se.width()),be.max=0,se.toggleClass(An,!(be.noMove=be.min===be.max))}function m(t,r,a){if("number"==typeof t){t=new Array(t);var s=!0}return Fe.each(t,function(t,e){if(s&&(e=t),"number"==typeof e){var n=at[T(e)];if(n){var o="$"+r+"Frame",i=n[o];a.call(this,t,e,n,i,o,i&&i.data())}}})}function k(t,e,n,o){(!qt||"*"===qt&&o===yt)&&(t=qe(C.width)||qe(t)||Do,e=qe(C.height)||qe(e)||Ro,Kt.resize({width:t,ratio:C.ratio||n||t/e},0,o!==yt&&"*"))}function M(t,w,y,b,x,_){m(t,w,function(t,n,e,o,i,r){function a(t){var e=T(n);R(t,{index:e,src:m,frame:at[e]})}function s(){d.remove(),Fe.Fotorama.cache[m]="error",e.html&&"stage"===w||!v||v===m?(m&&!l?(o.trigger("f:error").removeClass(io).addClass(oo),a("error")):"stage"===w&&(o.trigger("f:load").removeClass(io+" "+oo).addClass(ro),a("load"),k()),r.state="error",!(1<st&&at[n]===e)||e.html||e.deleted||e.video||l||(e.deleted=!0,Kt.splice(n,1))):(e[p]=m=v,M([n],w,y,b,x,!0))}function u(){Fe.Fotorama.measures[m]=h.measures=Fe.Fotorama.measures[m]||{width:f.width,height:f.height,ratio:f.width/f.height},k(h.measures.width,h.measures.height,h.measures.ratio,n),d.off("load error").addClass(uo+(l?" "+co:"")).prependTo(o),Be(d,(Fe.isFunction(y)?y():y)||ge,b||e.fit||C.fit,x||e.position||C.position),Fe.Fotorama.cache[m]=r.state="loaded",setTimeout(function(){o.trigger("f:load").removeClass(io+" "+oo).addClass(ro+" "+(l?ao:so)),"stage"===w?a("load"):(e.thumbratio===Vo||!e.thumbratio&&C.thumbratio===Vo)&&(e.thumbratio=h.measures.ratio,ot())},0)}function c(){var t=10;Ke(function(){return!Rt||!t--&&!qo},function(){u()})}if(o){var l=Kt.fullScreen&&e.full&&e.full!==e.img&&!r.$full&&"stage"===w;if(!r.$img||_||l){var f=new Image,d=Fe(f),h=d.data();r[l?"$full":"$img"]=d;var p="stage"===w?l?"full":"img":"thumb",m=e[p],v=l?null:e["stage"===w?"thumb":"img"];"navThumb"===w&&(o=r.$wrap),m?(Fe.Fotorama.cache[m]?function g(){"error"===Fe.Fotorama.cache[m]?s():"loaded"===Fe.Fotorama.cache[m]?setTimeout(c,0):setTimeout(g,100)}():(Fe.Fotorama.cache[m]="*",d.on("load",c).on("error",s)),r.state="",f.src=m):s()}}})}function v(t){me.append(ct.spin().el).appendTo(t)}function g(){me.detach(),ct&&ct.stop()}function w(){var t=ft[Wo];t&&!t.data().state&&(v(t),t.on("f:load f:error",function(){t.off("f:load f:error"),g()}))}function y(t){an(t,tt),sn(t,function(){setTimeout(function(){tn(ae)},0),A({time:Et,guessIndex:Fe(this).data().eq,minMax:be})})}function b(t,s){m(t,s,function(t,e,n,o,i,r){if(!o){o=n[i]=Jt[i].clone(),(r=o.data()).data=n;var a=o[0];"stage"===s?(n.html&&Fe('<div class="'+po+'"></div>').append(n._html?Fe(n.html).removeAttr("id").html(n._html):n.html).appendTo(o),n.caption&&Fe(Ge(go,Ge(wo,n.caption))).appendTo(o),n.background&&Fe(Ge(yo,Ge(bo,n.background))).appendTo(o),n.video&&o.addClass($n).append(he.clone()),sn(a,function(){setTimeout(function(){tn(Zt)},0),G({index:r.eq,user:!0})}),ee=ee.add(o)):"navDot"===s?(y(a),ue=ue.add(o)):"navThumb"===s&&(y(a),r.$wrap=o.children(":first"),ce=ce.add(o),n.video&&r.$wrap.append(he.clone()))}})}function x(t,e,n,o){return t&&t.length&&Be(t,e,n,o)}function _(t){m(t,"stage",function(t,e,n,o,i,r){if(o){var a=T(e),s=n.fit||C.fit,u=n.position||C.position;r.eq=a,Ce[Wo][a]=o.css(Fe.extend({left:Mt?0:Ae(e,ge.w,C.margin,ht)},Mt&&je(0))),He(o[0])&&(o.appendTo(te),Q(n.$video)),x(r.$img,ge,s,u),x(r.$full,ge,s,u)}})}function S(t,s){if("thumbs"===xt&&!isNaN(t)){var u=-t,c=-t+ge.nw;ce.each(function(){var t=Fe(this).data(),e=t.eq,n=function(){return{h:Ft,w:t.w}},o=n(),i=at[e]||{},r=i.thumbfit||C.thumbfit,a=i.thumbposition||C.thumbposition;o.w=t.w,t.l+t.w<u||t.l>c||x(t.$img,o,r,a)||s&&M([e],"navThumb",n,r,a)})}}function F(t,e,n){if(!F[n]){var o="nav"===n&&_t,i=0;e.append(t.filter(function(){for(var t,e=Fe(this),n=e.data(),o=0,i=at.length;o<i;o++)if(n.data===at[o]){t=!0,n.eq=o;break}return t||e.remove()&&!1}).sort(function(t,e){return Fe(t).data().eq-Fe(e).data().eq}).each(function(){if(o){var t=Fe(this),e=t.data(),n=Math.round(Ft*e.data.thumbratio)||St;e.l=i,e.w=n,t.css({width:n}),i+=n+C.thumbmargin}})),F[n]=!0}}function E(t){return t-Te>ge.w/3}function P(t){return!(bt||ve+t&&ve-st+t||lt)}function j(){var t=P(0),e=P(1);ne.toggleClass(Ln,t).attr(rn(t)),oe.toggleClass(Ln,e).attr(rn(e))}function N(){ye.ok&&(ye.prevent={"<":P(0),">":P(1)})}function $(t){var e,n,o=t.data();return _t?(e=o.l,n=o.w):(e=t.position().left,n=t.width()),{c:e+n/2,min:-e+10*C.thumbmargin,max:-e+ge.w-n-10*C.thumbmargin}}function q(t){var e=ft[Ht].data();ln(le,{time:1.2*t,pos:e.l,width:e.w-2*C.thumbborderwidth})}function A(t){var e=at[t.guessIndex][Ht];if(e){var n=be.min!==be.max,o=t.minMax||n&&$(ft[Ht]),i=n&&(t.keep&&A.l?A.l:Ee((t.coo||ge.nw/2)-$(e).c,o.min,o.max)),r=n&&Ee(i,be.min,be.max),a=1.1*t.time;ln(se,{time:a,pos:r||0,onEnd:function(){S(r,!0)}}),X(ae,Qe(r,be.min,be.max)),A.l=i}}function z(){I(Ht),_e[Ht].push(ft[Ht].addClass(Jn))}function I(t){for(var e=_e[t];e.length;)e.shift().removeClass(Jn)}function L(t){var n=Ce[t];Fe.each(dt,function(t,e){delete n[T(e)]}),Fe.each(n,function(t,e){delete n[t],e.detach()})}function O(t){ht=pt=ve;var e=ft[Wo];e&&(I(Wo),_e[Wo].push(e.addClass(Jn)),t||Kt.show.onEnd(!0),Ie(te,0,!0),L(Wo),_(dt),h(),p())}function D(n,t){n&&Fe.each(t,function(t,e){e&&Fe.extend(e,{width:n.width||e.width,height:n.height,minwidth:n.minwidth,maxwidth:n.maxwidth,minheight:n.minheight,maxheight:n.maxheight,ratio:nn(n.ratio)})})}function R(t,e){n.trigger(vn+":"+t,[Kt,e])}function W(){clearTimeout(H.t),Rt=1,C.stopautoplayontouch?Kt.stopAutoplay():Lt=!0}function H(){Rt&&(C.stopautoplayontouch||(K(),V()),H.t=setTimeout(function(){Rt=0},Io+zo))}function K(){Lt=!(!lt&&!Ot)}function V(){if(clearTimeout(V.t),Ke.stop(V.w),C.autoplay&&!Lt){Kt.autoplay||(Kt.autoplay=!0,R("startautoplay"));var n=ve,t=ft[Wo].data();V.w=Ke(function(){return t.state||n!==ve},function(){V.t=setTimeout(function(){if(!Lt&&n===ve){var t=wt,e=at[t][Wo].data();V.w=Ke(function(){return e.state||t!==wt},function(){Lt||t!==wt||Kt.show(bt?cn(!Nt):wt)})}},C.autoplay)})}else Kt.autoplay&&(Kt.autoplay=!1,R("stopautoplay"))}function B(){Kt.fullScreen&&(Kt.fullScreen=!1,$o&&Co.cancel(Xt),Fo.removeClass(gn),So.removeClass(gn),n.removeClass(eo).insertAfter(Gt),ge=Fe.extend({},Dt),Q(lt,!0,!0),Z("x",!1),Kt.resize(),M(dt,"stage"),tn(Eo,zt,At),R("fullscreenexit"))}function X(t,e){jt&&(t.removeClass(Yn+" "+Gn),e&&!lt&&t.addClass(e.replace(/^|\s/g," "+Un+"--")))}function Q(t,e,n){e&&(Jt.removeClass(xn),lt=!1,a()),t&&t!==lt&&(t.remove(),R("unloadvideo")),n&&(K(),V())}function U(t){Jt.toggleClass(Tn,t)}function Y(t){if(!we.flow){var e=t?t.pageX:Y.x,n=e&&!P(E(e))&&C.click;Y.p!==n&&Zt.toggleClass(zn,n)&&(Y.p=n,Y.x=e)}}function G(e){clearTimeout(G.t),C.clicktransition&&C.clicktransition!==C.transition?setTimeout(function(){var t=C.transition;Kt.setOptions({transition:C.clicktransition}),Pt=t,G.t=setTimeout(function(){Kt.show(e)},10)},0):Kt.show(e)}function J(t,e){var n=t.target;Fe(n).hasClass(mo)?Kt.playVideo():n===de?Kt.toggleFullScreen():lt?n===pe&&Q(lt,!0,!0):e?U():C.click&&G({index:t.shiftKey||cn(E(t._x)),slow:t.altKey,user:!0})}function Z(t,e){we[t]=be[t]=e}function tt(t){G({index:Fe(this).data().eq,slow:t.altKey,user:!0,coo:t._x-ae.offset().left})}function et(t){G({index:ie.index(this)?">":"<",slow:t.altKey,user:!0})}function nt(t){sn(t,function(){setTimeout(function(){tn(Zt)},0),U(!1)})}function ot(){if(i(),u(),!ot.i){ot.i=!0;var t=C.startindex;(t||C.hash&&Se.hash)&&(yt=Ue(t||Se.hash.replace(/^#/,""),at,0===Kt.index||t,t)),ve=ht=pt=mt=yt=l(yt)||0}if(st){if(it())return;lt&&Q(lt,!0),dt=[],L(Wo),ot.ok=!0,Kt.show({index:ve,time:0}),Kt.resize()}else Kt.destroy()}function it(){if(!it.f===Nt)return it.f=Nt,ve=st-1-ve,Kt.reverse(),!0}function rt(){rt.ok||(rt.ok=!0,R("ready"))}So=Fe("html"),Fo=Fe("body");var at,st,ut,ct,lt,ft,dt,ht,pt,mt,vt,gt,wt,yt,bt,xt,_t,Ct,Tt,kt,Mt,St,Ft,Et,Pt,jt,Nt,$t,qt,At,zt,It,Lt,Ot,Dt,Rt,Wt,Ht,Kt=this,Vt=Fe.now(),Bt=vn+Vt,Xt=n[0],Qt=1,Ut=n.data(),Yt=Fe("<style></style>"),Gt=Fe(Ge(to)),Jt=Fe(Ge(wn)),Zt=Fe(Ge(jn)).appendTo(Jt),te=(Zt[0],Fe(Ge(qn)).appendTo(Zt)),ee=Fe(),ne=Fe(Ge(In+" "+On+_o)),oe=Fe(Ge(In+" "+Dn+_o)),ie=ne.add(oe).appendTo(Zt),re=Fe(Ge(Wn)),ae=Fe(Ge(Rn)).appendTo(re),se=Fe(Ge(Hn)).appendTo(ae),ue=Fe(),ce=Fe(),le=(te.data(),se.data(),Fe(Ge(ho)).appendTo(se)),fe=Fe(Ge(no+_o)),de=fe[0],he=Fe(Ge(mo)),pe=Fe(Ge(vo)).appendTo(Zt)[0],me=Fe(Ge(xo)),ve=!1,ge={},we={},ye={},be={},xe={},_e={},Ce={},Te=0,ke=[];Jt[Wo]=Fe(Ge(Nn)),Jt[Ko]=Fe(Ge(Bn+" "+Qn+_o,Ge(fo))),Jt[Ho]=Fe(Ge(Bn+" "+Xn+_o,Ge(lo))),_e[Wo]=[],_e[Ko]=[],_e[Ho]=[],Ce[Wo]={},Jt.addClass(jo?bn:yn).toggleClass(Tn,!C.controlsonstart),Ut.fotorama=this,Kt.startAutoplay=function(t){return Kt.autoplay||(Lt=Ot=!1,s(t||C.autoplay),V()),this},Kt.stopAutoplay=function(){return Kt.autoplay&&(Lt=Ot=!0,V()),this},Kt.show=function(e){var t;"object"!=typeof e?(t=e,e={}):t=e.index,
t=">"===t?pt+1:"<"===t?pt-1:"<<"===t?0:">>"===t?st-1:t,t=void 0===(t=isNaN(t)?Ue(t,at,!0):t)?ve||0:t,Kt.activeIndex=ve=l(t),vt=f(ve),gt=d(ve),wt=T(ve+(Nt?-1:1)),dt=[ve,vt,gt],pt=bt?t:ve;var n=Math.abs(mt-pt),o=Le(e.time,function(){return Math.min(Et*(1+(n-1)/12),2*Et)}),i=e.overPos;e.slow&&(o*=10);var r=ft;Kt.activeFrame=ft=at[ve];var a=r===ft&&!e.user;Q(lt,ft.i!==at[T(ht)].i),b(dt,"stage"),_(qo?[pt]:[pt,f(pt),d(pt)]),Z("go",!0),a||R("show",{user:e.user,time:o}),Lt=!0;var s=Kt.show.onEnd=function(t){if(!s.ok){if(s.ok=!0,t||O(!0),a||R("showend",{user:e.user}),!t&&Pt&&Pt!==C.transition)return Kt.setOptions({transition:Pt}),void(Pt=!1);w(),M(dt,"stage"),Z("go",!1),N(),Y(),K(),V()}};Mt?fn(ft[Wo],ve!==mt?at[mt][Wo]:null,ee,{time:o,method:C.transition,onEnd:s},ke):ln(te,{pos:-Ae(pt,ge.w,C.margin,ht),overPos:i,time:o,onEnd:s});if(j(),xt){z();var u=c(ve+Ee(pt-mt,-1,1));A({time:o,coo:u!==ve&&e.coo,guessIndex:"undefined"!=typeof e.coo?u:ve,keep:a}),_t&&q(o)}return It=void 0!==mt&&mt!==ve,mt=ve,C.hash&&It&&!Kt.eq&&Ve(ft.id||ve+1),this},Kt.requestFullScreen=function(){return Tt&&!Kt.fullScreen&&(At=Eo.scrollTop(),zt=Eo.scrollLeft(),tn(Eo),Z("x",!0),Dt=Fe.extend({},ge),n.addClass(eo).appendTo(Fo.addClass(gn)),So.addClass(gn),Q(lt,!0,!0),Kt.fullScreen=!0,kt&&Co.request(Xt),Kt.resize(),M(dt,"stage"),w(),R("fullscreenenter")),this},Kt.cancelFullScreen=function(){return kt&&Co.is()?Co.cancel(Me):B(),this},Kt.toggleFullScreen=function(){return Kt[(Kt.fullScreen?"cancel":"request")+"FullScreen"]()},on(Me,Co.event,function(){!at||Co.is()||lt||B()}),Kt.resize=function(t,e,n){if(!at)return this;var o=e||0,i=n;D(Kt.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:en(t),[ge,i||Kt.fullScreen||C]);var r=ge.width,a=ge.height,s=ge.ratio,u=Eo.height()-(xt?ae.height():0);return qe(r)&&(Jt.addClass(Fn).css({width:r,minWidth:ge.minwidth||0,maxWidth:ge.maxwidth||Bo}),r=ge.W=ge.w=Jt.width(),ge.nw=xt&&$e(C.navwidth,r)||r,C.glimpse&&(ge.w-=Math.round(2*($e(C.glimpse,r)||0))),te.css({width:ge.w,marginLeft:(ge.W-ge.w)/2}),(a=(a=$e(a,u))||s&&r/s)&&(r=Math.round(r),a=ge.h=Math.round(Ee(a,$e(ge.minheight,u),$e(ge.maxheight,u))),Zt.stop().animate({width:r,height:a},o,function(){Jt.removeClass(Fn)}),O(),xt&&(ae.stop().animate({width:ge.nw},o),A({guessIndex:ve,time:o,keep:!0}),_t&&F.nav&&q(o)),qt=i||!0,rt())),Te=Zt.offset().left,this},Kt.setOptions=function(t){return Fe.extend(C,t),ot(),this},Kt.shuffle=function(){return at&&Je(at)&&ot(),this},Kt.destroy=function(){return Kt.cancelFullScreen(),Kt.stopAutoplay(),at=Kt.data=null,o(),dt=[],L(Wo),ot.ok=!1,this},Kt.playVideo=function(){var t=ft,e=t.video,n=ve;return"object"==typeof e&&t.videoReady&&(kt&&Kt.fullScreen&&Kt.cancelFullScreen(),Ke(function(){return!Co.is()||n!==ve},function(){n===ve&&(t.$video=t.$video||Fe(Fe.Fotorama.jst.video(e)),t.$video.appendTo(t[Wo]),Jt.addClass(xn),lt=t.$video,a(),ie.blur(),fe.blur(),R("loadvideo"))})),this},Kt.stopVideo=function(){return Q(lt,!0,!0),this},Zt.on("mousemove",Y),we=dn(te,{onStart:W,onMove:function(t,e){X(Zt,e.edge)},onTouchEnd:H,onEnd:function(t){X(Zt);var e=(Ao&&!Wt||t.touch)&&C.arrows&&"always"!==C.arrows;if(t.moved||e&&t.pos!==t.newPos&&!t.control){var n=ze(t.newPos,ge.w,C.margin,ht);Kt.show({index:n,time:Mt?Et:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||J(t.startEvent,e)},timeLow:1,timeHigh:1,friction:2,select:"."+Zn+", ."+Zn+" *",$wrap:Zt}),be=dn(se,{onStart:W,onMove:function(t,e){X(ae,e.edge)},onTouchEnd:H,onEnd:function(t){function e(){A.l=t.newPos,K(),V(),S(t.newPos,!0)}if(t.moved)t.pos!==t.newPos?(Lt=!0,ln(se,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),S(t.newPos),jt&&X(ae,Qe(t.newPos,be.min,be.max))):e();else{var n=t.$target.closest("."+Bn,se)[0];n&&tt.call(n,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:ae}),ye=hn(Zt,{shift:!0,onEnd:function(t,e){W(),H(),Kt.show({index:e,slow:t.altKey})}}),xe=hn(ae,{onEnd:function(t,e){W(),H();var n=Ie(se)+.25*e;se.css(Pe(Ee(n,be.min,be.max))),jt&&X(ae,Qe(n,be.min,be.max)),xe.prevent={"<":n>=be.max,">":n<=be.min},clearTimeout(xe.t),xe.t=setTimeout(function(){S(A.l=n,!0)},zo),S(n)}}),Jt.hover(function(){setTimeout(function(){Rt||U(!(Wt=!0))},0)},function(){Wt&&U(!(Wt=!1))}),Ye(ie,function(t){un(t),et.call(this,t)},{onStart:function(){W(),we.control=!0},onTouchEnd:H}),ie.each(function(){an(this,function(t){et.call(this,t)}),nt(this)}),an(de,Kt.toggleFullScreen),nt(de),Fe.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){Kt[e]=function(t){return at=at||[],"load"!==e?Array.prototype[e].apply(at,arguments):t&&"object"==typeof arguments[0]&&arguments[0].length&&(at=Ze(arguments[0])),ot(),Kt}}),ot()},Fe.fn.fotorama=function(i){return this.each(function(){var t=this,e=Fe(this),n=e.data(),o=n.fotorama;o?o.setOptions(i,!0):Ke(function(){return!f(t)},function(){n.urtext=e.html(),new Fe.Fotorama(e,Fe.extend({},W,r.fotoramaDefaults,i,n))})})},Fe.Fotorama.instances=[],Fe.Fotorama.cache={},Fe.Fotorama.measures={},(Fe=Fe||{}).Fotorama=Fe.Fotorama||{},Fe.Fotorama.jst=Fe.Fotorama.jst||{},Fe.Fotorama.jst.style=function(t){var e,n="";C.escape;return n+=".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},Fe.Fotorama.jst.video=function(t){function e(){n+=o.call(arguments,"")}var n="",o=(C.escape,Array.prototype.join);return n+='<div class="fotorama__video"><iframe src="',e(("youtube"==t.type?t.p+"youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?t.p+"player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+(t.s&&"custom"!=t.type?"&"+t.s:"")),n+='" frameborder="0" allowfullscreen></iframe></div>\n'},Fe(function(){Fe("."+vn+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery);