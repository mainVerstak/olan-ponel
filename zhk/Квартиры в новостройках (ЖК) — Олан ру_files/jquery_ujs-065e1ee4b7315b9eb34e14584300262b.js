!function(u,m){var c;u.rails!==m&&u.error("jquery-ujs has already been loaded!");var e=u(document);u.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(e){var t=u('meta[name="csrf-token"]').attr("content");t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){var e=u("meta[name=csrf-token]").attr("content"),t=u("meta[name=csrf-param]").attr("content");u('form input[name="'+t+'"]').val(e)},fire:function(e,t,a){var n=u.Event(t);return e.trigger(n,a),!1!==n.result},confirm:function(e){return confirm(e)},ajax:function(e){return u.ajax(e)},href:function(e){return e.attr("href")},handleRemote:function(n){var e,t,a,r,i,o,l,d;if(c.fire(n,"ajax:before")){if(i=(r=n.data("cross-domain"))===m?null:r,o=n.data("with-credentials")||null,l=n.data("type")||u.ajaxSettings&&u.ajaxSettings.dataType,n.is("form")){e=n.attr("method"),t=n.attr("action"),a=n.serializeArray();var s=n.data("ujs:submit-button");s&&(a.push(s),n.data("ujs:submit-button",null))}else n.is(c.inputChangeSelector)?(e=n.data("method"),t=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):n.is(c.buttonClickSelector)?(e=n.data("method")||"get",t=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(e=n.data("method"),t=c.href(n),a=n.data("params")||null);return d={type:e||"GET",data:a,dataType:l,beforeSend:function(e,t){if(t.dataType===m&&e.setRequestHeader("accept","*/*;q=0.5, "+t.accepts.script),!c.fire(n,"ajax:beforeSend",[e,t]))return!1;n.trigger("ajax:send",e)},success:function(e,t,a){n.trigger("ajax:success",[e,t,a])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,a){n.trigger("ajax:error",[e,t,a])},crossDomain:i},o&&(d.xhrFields={withCredentials:o}),t&&(d.url=t),c.ajax(d)}return!1},handleMethod:function(e){var t=c.href(e),a=e.data("method"),n=e.attr("target"),r=u("meta[name=csrf-token]").attr("content"),i=u("meta[name=csrf-param]").attr("content"),o=u('<form method="post" action="'+t+'"></form>'),l='<input name="_method" value="'+a+'" type="hidden" />';i!==m&&r!==m&&(l+='<input name="'+i+'" value="'+r+'" type="hidden" />'),n&&o.attr("target",n),o.hide().append(l).appendTo("body"),o.submit()},formElements:function(e,t){return e.is("form")?u(e[0].elements).filter(t):e.find(t)},disableFormElements:function(e){c.formElements(e,c.disableSelector).each(function(){c.disableFormElement(u(this))})},disableFormElement:function(e){var t,a;t=e.is("button")?"html":"val",a=e.data("disable-with"),e.data("ujs:enable-with",e[t]()),a!==m&&e[t](a),e.prop("disabled",!0)},enableFormElements:function(e){c.formElements(e,c.enableSelector).each(function(){c.enableFormElement(u(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,a=e.data("confirm"),n=!1;return!a||(c.fire(e,"confirm")&&(n=c.confirm(a),t=c.fire(e,"confirm:complete",[n])),n&&t)},blankInputs:function(e,t,a){var n,r=u(),i=t||"input,textarea",o=e.find(i);return o.each(function(){if(n=u(this),!(n.is("input[type=checkbox],input[type=radio]")?n.is(":checked"):n.val())==!a){if(n.is("input[type=radio]")&&o.filter('input[type=radio]:checked[name="'+n.attr("name")+'"]').length)return!0;r=r.add(n)}}),!!r.length&&r},nonBlankInputs:function(e,t){return c.blankInputs(e,t,!0)},stopEverything:function(e){return u(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(e){var t=e.data("disable-with");e.data("ujs:enable-with",e.html()),t!==m&&e.html(t),e.bind("click.railsDisable",function(e){return c.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==m&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},c.fire(e,"rails:attachBindings")&&(u.ajaxPrefilter(function(e,t,a){e.crossDomain||c.CSRFProtection(a)}),e.delegate(c.linkDisableSelector,"ajax:complete",function(){c.enableElement(u(this))}),e.delegate(c.buttonDisableSelector,"ajax:complete",function(){c.enableFormElement(u(this))}),e.delegate(c.linkClickSelector,"click.rails",function(e){var t=u(this),a=t.data("method"),n=t.data("params"),r=e.metaKey||e.ctrlKey;if(!c.allowAction(t))return c.stopEverything(e);if(!r&&t.is(c.linkDisableSelector)&&c.disableElement(t),t.data("remote")===m)return t.data("method")?(c.handleMethod(t),!1):void 0;if(r&&(!a||"GET"===a)&&!n)return!0;var i=c.handleRemote(t);return!1===i?c.enableElement(t):i.error(function(){c.enableElement(t)}),!1}),e.delegate(c.buttonClickSelector,"click.rails",function(e){var t=u(this);if(!c.allowAction(t))return c.stopEverything(e);t.is(c.buttonDisableSelector)&&c.disableFormElement(t);var a=c.handleRemote(t);return!1===a?c.enableFormElement(t):a.error(function(){c.enableFormElement(t)}),!1}),e.delegate(c.inputChangeSelector,"change.rails",function(e){var t=u(this);return c.allowAction(t)?(c.handleRemote(t),!1):c.stopEverything(e)}),e.delegate(c.formSubmitSelector,"submit.rails",function(e){var t,a,n=u(this),r=n.data("remote")!==m;if(!c.allowAction(n))return c.stopEverything(e);if(n.attr("novalidate")==m&&(t=c.blankInputs(n,c.requiredInputSelector))&&c.fire(n,"ajax:aborted:required",[t]))return c.stopEverything(e);if(r){if(a=c.nonBlankInputs(n,c.fileInputSelector)){setTimeout(function(){c.disableFormElements(n)},13);var i=c.fire(n,"ajax:aborted:file",[a]);return i||setTimeout(function(){c.enableFormElements(n)},13),i}return c.handleRemote(n),!1}setTimeout(function(){c.disableFormElements(n)},13)}),e.delegate(c.formInputClickSelector,"click.rails",function(e){var t=u(this);if(!c.allowAction(t))return c.stopEverything(e);var a=t.attr("name"),n=a?{name:a,value:t.val()}:null;t.closest("form").data("ujs:submit-button",n)}),e.delegate(c.formSubmitSelector,"ajax:send.rails",function(e){this==e.target&&c.disableFormElements(u(this))}),e.delegate(c.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&c.enableFormElements(u(this))}),u(function(){c.refreshCSRFTokens()}))}(jQuery);